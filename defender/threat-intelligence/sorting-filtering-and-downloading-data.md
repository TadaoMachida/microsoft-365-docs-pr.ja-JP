---
title: Microsoft Defender 脅威インテリジェンスを使用したデータの並べ替え、フィルター処理、ダウンロード (Defender TI)
description: Microsoft Defender 脅威インテリジェンス (Defender TI) を使用してデータを並べ替え、フィルター処理、ダウンロードする方法について説明します。
author: alexroland24
ms.author: aroland
ms.service: threat-intelligence
ms.topic: how-to
ms.date: 08/02/2022
ms.custom: template-how-to
ms.openlocfilehash: 36648d50033cb00893e9f973641f421274e6e3d8
ms.sourcegitcommit: 414682b9bf42dc19a89c893d3c515aee9765b6e4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/08/2022
ms.locfileid: "67280379"
---
# <a name="sorting-filtering-and-downloading-data"></a>データの並べ替え、フィルター処理、ダウンロード

Microsoft Defender 脅威インテリジェンス (Defender TI) プラットフォームを使用すると、アナリストはインデックス付きピボット テーブル形式でクロール データの膨大なコレクションにアクセスできます。  これらのデータ セットは非常に大きく、膨大な量の履歴データと最近のデータを返します。 そのため、アナリストがデータを適切に並べ替えてフィルター処理できるようにすることで、目的の接続を簡単に表示できます。

![DataSets Chrome の並べ替えスクリーンショット](media/sortingDataSetsChromeScreenshot.png)

このハウツー記事では、次のデータ セットのデータを並べ替えてフィルター処理する方法について説明します。

- 解決策
- Whois
- 証明書
- サブドメイン
- トラッカー
- コンポーネント
- ホスト ペア
- Hashes
- Cookie
- サービス
- DNS
- DNS の逆引き

詳細については、「 [データ セット](data-sets.md)」を参照してください。

このハウツー記事では、次の機能からインジケーター/成果物をダウンロードする方法についても説明します。

- Projects
- 記事
- データ セット

## <a name="prerequisites"></a>前提条件

- Azure Active Directory または個人用 Microsoft アカウント。 [アカウントにログインまたは作成する](https://signup.microsoft.com/)
- Microsoft Defender 脅威インテリジェンス (Defender TI) Premium ライセンス。
    > [!NOTE]
    > Defender TI Premium ライセンスを持たないユーザーは、Defender 脅威インテリジェンス ポータルにログインし、無料の Defender TI オファリングにアクセスできます。

## <a name="open-defender-tis-threat-intelligence-home-page"></a>Defender TI の脅威インテリジェンス のホーム ページを開く

1. [Defender 脅威インテリジェンス ポータル](https://ti.defender.microsoft.com/)にアクセスします。
2. ポータルにアクセスするための Microsoft 認証を完了します。

## <a name="sorting-data"></a>データの並べ替え

[データ] タブの並べ替え関数を使用すると、ユーザーは列の値でデータセットをすばやく並べ替えることができます。 既定では、ほとんどの結果は"Last Seen" (降順) で並べ替えられ、最後に観察された結果が一覧の一番上に表示されます。これにより、最新のデータが表示され、成果物の現在のインフラストラクチャに関する分析情報がすぐに得られます。 現在、すべてのデータ セットは、次の "最初に見た" 値と "最後に見た" 値で並べ替えることができます。

- 最後に表示された降順 (既定値)
- 最後に表示された昇順
- 最初に見た昇順
- 最初に見た降順

データは、検索またはピボットされた各 IP、ドメイン、またはホスト エンティティの [データ] タブ内の各データ セット ブレードで並べ替えることができます。

1. Defender TI 脅威インテリジェンス検索バーでドメイン、IP アドレス、またはホストを検索し、[データ] タブに移動します。
2. [解像度データ] ブレード内の [最初に表示] 列と [最終表示] 列に並べ替え設定を適用します。

![並べ替えの解決策](media/sortingResolutions.gif)

## <a name="filtering-data"></a>データのフィルター処理

データ フィルターを使用すると、アナリストは特定のメタデータ値に基づいて選択したデータ グループにアクセスできます。 たとえば、アナリストは、選択したソースまたは特定の種類のコンポーネント (サーバー、フレームワークなど) から検出された IP 解像度のみを表示するように選択できます。 これにより、ユーザーはクエリ結果を特定の関心のある項目に絞り込めます。 脅威インテリジェンス プラットフォームは特定のデータ型と一致する特定のメタデータを提供するため、フィルター オプションはデータ セットごとに異なります。

## <a name="resolution-filters"></a>解決フィルター

解決データには、次のフィルターが適用されます。

- **システム タグ**: これらのタグは、調査チームによって検出された分析情報に基づいて、脅威インテリジェンス システムによって作成されます。
- **タグ**: 脅威インテリジェンス ユーザーによって適用されたタグ。
- **ASN**: 指定された自律システム番号 (ASN) に関連する結果。
- **ネットワーク**: 指定されたネットワークに関連する結果。
- **ソース**: 結果を生成したデータ ソース (riskiq、emerging_threatsなど)。

1. Defender TI 脅威インテリジェンス検索バーでドメイン、IP アドレス、またはホストを検索し、[データ] タブに移動します。
2. [解像度データ] ブレード内で上記のフィルター オプションの種類にフィルターを適用します。

![フィルターの解像度](media/filtersResolutions.gif)

## <a name="tracker-filters"></a>トラッカー フィルター

トラッカー データには、次のフィルターが適用されます。

- **型**: 各アーティファクトの識別されたトラッカーの種類 (JarmFuzzyHash、GoogleAnalyticsID など)。
- **アドレス**: トラッカーを直接観察した IP アドレス、またはトラッカーを観察した解決ホストを持つ IP アドレス。 (IP アドレスを検索するときに表示されます)
- **ホスト名**: このトラッカー値を観察したホスト。 (ドメインまたはホストを検索するときに表示されます)

1. Defender TI 脅威インテリジェンス検索バーでドメイン、IP アドレス、またはホストを検索し、[データ] タブに移動します。
2. [トラッカー データ] ブレードに移動します。
3. [Trackers Data] ブレード内で上記のフィルター オプションの種類にフィルターを適用します。

![フィルター トラッカー](media/filtersTrackers.gif)

## <a name="component-filters"></a>コンポーネント フィルター

コンポーネント データには、次のフィルターが適用されます。

- **Ipaddressraw:** 返されたホスト名と一致する IP アドレス。
- **型:** 指定されたコンポーネントの種類 (リモート アクセス、オペレーティング システムなど)。
- **名前:** 検出されたコンポーネントの名前 (例: Cobalt Strike、PHP)。

1. Defender TI 脅威インテリジェンス検索バーでドメイン、IP アドレス、またはホストを検索し、[データ] タブに移動します。
2. [コンポーネント データ] ブレードに移動します。
3. [コンポーネント データ] ブレード内で上記のフィルター オプションの種類にフィルターを適用します。

![コンポーネントをフィルター処理する](media/filtersComponents.gif)

## <a name="host-pair-filters"></a>ホスト ペア フィルター

ホスト ペア データには、次のフィルターが適用されます。

- **方向:** 観察された接続の方向。 これは、親が子にリダイレクトするか、またはその逆にリダイレクトするかを示します。
- **親ホスト名:** 親アーティファクトのホスト名。
- **原因:** ホストの親と子の関係の検出された原因 (リダイレクト、iframe.src など)。
- **子ホスト名:** 子アーティファクトのホスト名。

1. Defender TI 脅威インテリジェンス検索バーでドメイン、IP アドレス、またはホストを検索し、[データ] タブに移動します。
2. [ホスト ペア データ] ブレードに移動します。
3. [ホスト ペア データ] ブレード内で上記のフィルター オプションの種類にフィルターを適用します。

![ホスト ペアをフィルター処理する](media/filtersHostPairs.gif)

## <a name="dns--reverse-dns-filters"></a>DNS &逆引き DNS フィルター

DNS データと逆引き DNS データには、次のフィルターが適用されます。

- **レコードの種類:** DNS レコードで検出されたレコードの種類 (NS、CNAME など)。
- **値:** レコードの指定された値 (nameserver.host.com など)。

1. Defender TI 脅威インテリジェンス検索バーでドメイン、IP アドレス、またはホストを検索し、[データ] タブに移動します。
2. DNS 以降のリバース DNS データ ブレードに移動します。
3. DNS および逆引き DNS データ ブレード内で前述のフィルター オプションの種類にフィルターを適用します。

![DNS をフィルター処理する](media/filtersDNS.gif)

## <a name="downloading-data"></a>データのダウンロード

Defender TI には、ユーザーが csv エクスポートとしてデータをダウンロードできるさまざまなセクションがあります。   ユーザーは、データを csv としてエクスポートするためにダウンロード アイコンを探す必要があります。

![ダウンロード アイコン](media/downloadIcon.png)

データは、次のセクションでダウンロードできます。

- ほとんどのデータ セット ブレード
- Project
- 脅威インテリジェンスに関する記事

次のヘッダーは、解像度、DNS、および逆引き DNS データのダウンロードの結果としてエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **Resolve**                | 検索されたドメイン (IP アドレスの解決) または IP アドレスが検索されたときに IP アドレスに解決されたドメインに関連付けられたレコード |
| **Location**               | IP アドレスがホストされている国 |
| **ネットワーク**                | Netblock またはサブネット |
| **autonomousSystemNumber** | 自律システム番号 |
| **firstSeen**              | Microsoft が最初に解像度を観察した日時 (形式: mm/dd/yyyy hh:mm) |
| **lastSeen**               | Microsoft が最後に解像度を観察した日時 (形式: mm/dd/yyyy hh:mm) |
| **Source**                 | この解決を観察したソース |
| **Tags**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |

サブドメイン データをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **hostname**               | 検索されたドメインのサブドメイン |
| **タグ**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |

Trackers データをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **hostname**               | トラッカーを監視または現在監視しているホスト名 |
| **firstSeen**              | Microsoft がホスト名がトラッカーを使用しているのを初めて確認した日付/時刻 (形式: mm/dd/yyyy hh:mm) |
| **lastSeen**               | Microsoft がホスト名がトラッカーを使用しているのを初めて確認した日付/時刻 (形式: mm/dd/yyyy hh:mm) |
| **attributeType**          | トラッカーの種類 |
| **attributeValue**         | トラッカーの値 |
| **Tags**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |

コンポーネント データをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **hostname**               | コンポーネントを監視または現在監視しているホスト名 |
| **firstSeen**              | ホスト名がトラッカーを使用しているのを Microsoft が初めて確認した日時 (形式: mm/dd/yyyy hh:mm |
| **lastSeen**               | Microsoft がホスト名がコンポーネントを最後に使用していた日時 (形式: mm/dd/yyyy hh:mm |
| **カテゴリ**               | コンポーネントの種類 |
| **name**                   | コンポーネントの名前 |
| **version**                | コンポーネントのバージョン |
| **Tags**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |

ホスト ペア データをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **parentHostname**         | 子ホスト名に到達するホスト名 |
| **childHostname**          | ホストする資産を親ホスト名にフィードしているホスト名。 |
| **firstSeen**              | Microsoft が最初に親ホスト名と子ホスト名の間の関係を観察した日時 (形式: mm/dd/yyyy hh:mm) |
| **lastSeen**               | Microsoft が最後に親ホスト名と子ホスト名の間の関係を観察した日時 (形式: mm/dd/yyyy hh:mm) |
| **attributeCause**         | 親ホスト名と子ホスト名の関係の原因 |
| **Tags**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |

ハッシュ データをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;             | &nbsp;                     |
|--------------------|----------------------------|
| **source**         | MD5 ハッシュ サンプルを観察したソース |
| **サンプル**                  | MD5 ハッシュ |
| **コレクションの日付**         | ソースによってキャプチャされたコレクションの日付 |

Cookie データをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **hostname**               | Cookie 名を観察したホスト名 |
| **firstSeen**              | Cookie 名が Cookie ドメインから発信されたホスト名に対して最初に観察されたとき (形式: mm/dd/yyyy hh:mm) |
| **lastSeen**               | Cookie 名が Cookie ドメインから発信されたホスト名に最後に観察された日付/時刻 (形式: mm/dd/yyyy hh:mm) |
| **cookieName**             | Cookie の名前 |
| **cookieDomain**           | Cookie 名の発信元であるドメイン名のサーバー |
| **Tags**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |

次のヘッダーは、自分、チーム、共有プロジェクトのプロジェクト リストをダウンロードした結果としてエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **name**                   | プロジェクトの名前 |
| **アーティファクト (カウント)**      | プロジェクト内のアーティファクトの数 |
| **(ユーザー) によって作成された**      | プロジェクトを作成したユーザー |
| **で作成された**             | プロジェクトが作成されたとき |
| **タグ**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |
| **協力**          | コラボレーターとしてプロジェクトに追加されたユーザー。 これは、[マイ プロジェクト] ページと [共有プロジェクト] ページからダウンロードされたプロジェクトの場合にのみ表示されます。 |

プロジェクトの詳細 (成果物) をプロジェクトからダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **アーティファクト**               | 成果物の値 (IP アドレス、ドメイン、ホスト、WHOIS 値、証明書 SHA-1 など) |
| **type**                   | アーティファクトの種類 (IP、ドメイン、ホスト、WHOIS 組織、WHOIS Phone、証明書 SHA-1 など) |
| **作成**                | 成果物がプロジェクトに追加された日時 (形式: mm/dd/yyyy hh:mm) |
| **creator**                | 成果物Email追加したユーザーのアドレス |
| **context**                | 成果物がプロジェクトに追加された方法 |
| **タグ**                   | 成果物に関連付けられているカスタム タグまたはシステム タグ |
| **協力**          | コラボレーターとしてプロジェクトに追加されたユーザー。 これは、[マイ プロジェクト] ページと [共有プロジェクト] ページからダウンロードされたプロジェクトの場合にのみ表示されます。 |

脅威インテリジェンスのパブリックインジケーターまたは riskiq インジケーターをダウンロードした結果、次のヘッダーがエクスポートされます。

| &nbsp;                     | &nbsp;                     |
|----------------------------|----------------------------|
| **type**                | インジケーターの種類 (IP、証明書、ドメイン、hash_sha256など) |
| **value**               | インジケーターの値 (IP アドレス、ドメイン、ホスト名など) |
| **source**              | インジケーターのソース (RiskIQ または OSINT) |

## <a name="next-steps"></a>次の手順

詳細については、「 [データ セット](data-sets.md)」を参照してください。
