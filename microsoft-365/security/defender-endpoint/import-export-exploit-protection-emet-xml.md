---
title: エクスプロイト保護構成のインポート、エクスポート、展開
description: グループ ポリシーを使用して軽減策の構成を展開します。
keywords: エクスプロイト保護, 軽減策, インポート, エクスポート, 構成, 変換する, 変換, 展開, インストール
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
ms.topic: article
author: dansimp
ms.author: dansimp
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.collection: M365-security-compliance
ms.date: ''
ms.openlocfilehash: 351a72a7d8088e6f24cf232d7475ba0475dbcaeb
ms.sourcegitcommit: 35f167725bec5fd4fe131781a53d96b060cf232d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/03/2022
ms.locfileid: "65873030"
---
# <a name="import-export-and-deploy-exploit-protection-configurations"></a>エクスプロイト保護構成のインポート、エクスポート、展開

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


**適用対象:**
- [Microsoft Defender for Endpoint Plan 1](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft Defender for Endpoint Plan 2](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Defender for Endpoint を試す場合は、 [無料試用版にサインアップしてください。](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-exposedapis-abovefoldlink)

エクスプロイト保護は、エクスプロイトを使用して拡散および感染させるマルウェアからデバイスを保護するのに役立ちます。 オペレーティング システム レベルまたは個々のアプリ レベルで適用できる、さまざまな軽減策で構成されています。

Windows セキュリティ アプリまたは PowerShell を使用して、一連の軽減策 (構成と呼ばれます) を作成します。 その後、この構成を XML ファイルとしてエクスポートし、ネットワーク上の複数のデバイスと共有できます。 その後、これらはすべて同じ軽減策設定のセットを持ちます。

[評価パッケージ](https://demo.wd.microsoft.com/Page/EP)には、サンプル構成ファイル (*ProcessMitigation.xml* (Selfhost v4) という名前) が含まれています。このファイルを使用して、XML 構造がどのように表示されるかを確認できます。 サンプル ファイルには、[Enhanced Mitigation Experience Toolkit (もうサポートされていません)](/lifecycle/products/enhanced-mitigation-experience-toolkit-emet) 構成から変換された設定も含まれています。 ファイルをテキスト エディター (メモ帳など) で開いたり、エクスプロイト保護に直接インポートしたり、Windows セキュリティ アプリの設定を確認したりできます。

> [!NOTE]
> demo.wd.microsoft.com の Defender for Endpoint デモ サイトは非推奨であり、将来削除される予定です。

## <a name="create-and-export-a-configuration-file"></a>構成ファイルを作成してエクスポートする

構成ファイルをエクスポートする前に、正しい設定があることを確認する必要があります。 まず、1 台の専用デバイスでエクスプロイト保護を構成します。 軽減策の構成の詳細については、「[エクスプロイト保護をカスタマイズする](customize-exploit-protection.md)」を参照してください。

エクスプロイト保護を目的の状態に構成した場合 (システム レベルとアプリ レベルの軽減策の両方を含む)、Windows セキュリティ アプリまたは PowerShell を使用してファイルをエクスポートできます。

### <a name="use-the-windows-security-app-to-export-a-configuration-file"></a>Windows セキュリティ アプリを使用して構成ファイルをエクスポートする

1. タスク バーで盾のアイコンを選択して、Windows セキュリティ アプリを開きます。 または、スタート メニューで **Windows セキュリティ** を検索 します。

2. **[アプリとブラウザーの制御]** タイル (または左側のメニュー バーのアプリ アイコン) を選択し、**[エクスプロイト保護の設定]** を選択します。

   :::image type="content" source="../../media/wdsc-exp-prot.png" alt-text="Windows セキュリティ アプリのエクスプロイト保護の設定オプション" lightbox="../../media/wdsc-exp-prot.png":::

3. **[エクスプロイト保護]** セクションの下部にある **[設定のエクスポート]** を選択します。 構成を保存する XML ファイルの場所と名前を選択します。

    > [!IMPORTANT]
    > 既定の構成を使用する場合は、[既定値を使用する (オン)] ではなく [既定でオン] の設定を使用して、XML ファイルで設定を正しくエクスポートします。

      :::image type="content" source="../../media/wdsc-exp-prot-export.png" alt-text="[設定のエクスポート] オプション" lightbox="../../media/wdsc-exp-prot-export.png":::

    > [!NOTE]
    > 設定をエクスポートすると、アプリ レベルとシステム レベルの両方の軽減策のすべての設定が保存されます。 つまり、**[システム設定]** セクションと **[プログラム設定]** セクションの両方からファイルをエクスポートする必要はありません (どちらのセクションでもすべての設定がエクスポートされます)。

### <a name="use-powershell-to-export-a-configuration-file"></a>PowerShell を使用して構成ファイルをエクスポートする

1. スタート メニューに「**powershell**」と入力し、**[Windows PowerShell]** を右クリックして **[管理者として実行]** を選択します。
2. 次のコマンドレットを入力します。

    ```PowerShell
    Get-ProcessMitigation -RegistryConfigFilePath filename.xml
    ```

    `filename` を任意の名前または任意の場所に変更します。

    コマンド例:

    ```powershell
    Get-ProcessMitigation -RegistryConfigFilePath C:\ExploitConfigfile.xml
    ```

> [!IMPORTANT]
> グループ ポリシーを使用して構成を展開する場合、構成を使用するすべてのデバイスが構成ファイルにアクセスできる必要があります。 ファイルを共有の場所に配置してください。

## <a name="import-a-configuration-file"></a>構成ファイルをインポートする

以前に作成したエクスプロイト保護構成ファイルをインポートできます。 PowerShell を使用して構成ファイルをインポートすることしかできません。

インポート後、設定はすぐに適用され、Windows セキュリティ アプリで確認できます。

### <a name="use-powershell-to-import-a-configuration-file"></a>PowerShell を使用して構成ファイルをインポートする

1. スタート メニューに「**powershell**」と入力し、**[Windows PowerShell]** を右クリックして **[管理者として実行]** を選択します。
2. 次のコマンドレットを入力します。

    ```PowerShell
    Set-ProcessMitigation -PolicyFilePath filename.xml
    ```

    `filename` をエクスプロイト保護 XML ファイルの場所と名前に変更します。

    コマンド例:

    ```powershell
    Set-ProcessMitigation -PolicyFilePath C:\ExploitConfigfile.xml
    ```

> [!IMPORTANT]
> エクスプロイト保護専用に作成された構成ファイルをインポートしていることを確認します。

## <a name="manage-or-deploy-a-configuration"></a>構成を管理または展開する

グループ ポリシーを使用して、作成した構成をネットワーク内の複数のデバイスに展開できます。

> [!IMPORTANT]
> グループ ポリシーを使用して構成を展開する場合、構成を使用するすべてのデバイスが構成 XML ファイルにアクセスできる必要があります。 ファイルを共有の場所に配置してください。

### <a name="use-group-policy-to-distribute-the-configuration"></a>グループ ポリシーを使用して構成を配布する

1. グループ ポリシーの管理デバイスで、[グループ ポリシーの管理コンソール](/previous-versions/windows/desktop/gpmc/group-policy-management-console-portal)を開き、構成し、**[編集]** するグループ ポリシー オブジェクトを右クリックします。

2. **[グループ ポリシー管理エディター]** で、**[コンピューターの構成]** に移動し、**[管理用テンプレート]** を選択します。

3. ツリーを **[Windows コンポーネント]** \> **[Windows Defender Exploit Guard]** \> **[エクスプロイト保護]** の順に展開します。

    :::image type="content" source="../../media/exp-prot-gp.png" alt-text="エクスプロイト保護のグループ ポリシー設定" lightbox="../../media/exp-prot-gp.png":::

4. **[エクスプロイト保護設定の共通セットを使用する]** をダブルクリックし、オプションを **[有効]** に設定します。

5. **[オプション:]** セクションで、次の例のように、使用するエクスプロイト保護構成ファイルの場所とファイル名を入力します。

    - `C:\MitigationSettings\Config.XML`
    - `\\Server\Share\Config.xml`
    - `https://localhost:8080/Config.xml`
    - `C:\ExploitConfigfile.xml`

6. **[OK]** を選択し、[通常どおり更新された GPO を展開](/windows/win32/srvnodes/group-policy)します。

## <a name="see-also"></a>関連項目

- [エクスプロイトからデバイスを保護する](exploit-protection.md)
- [エクスプロイト保護を評価する](evaluate-exploit-protection.md)
- [エクスプロイト保護を有効にする](enable-exploit-protection.md)
- [Exploit Protection 軽減策の構成と監査](customize-exploit-protection.md)
