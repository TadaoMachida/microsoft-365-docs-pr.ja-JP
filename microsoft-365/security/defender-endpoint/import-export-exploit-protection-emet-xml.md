---
title: エクスプロイト保護構成のインポート、エクスポート、展開
description: グループ ポリシーを使用して軽減策の構成をデプロイします。
keywords: エクスプロイト保護、軽減策、インポート、エクスポート、構成、変換、変換、デプロイ、インストール
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
ms.topic: article
author: dansimp
ms.author: dansimp
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.collection: M365-security-compliance
ms.date: ''
ms.openlocfilehash: d39ae833139e7143332c4914114bd57a8195bc57
ms.sourcegitcommit: b0c3ffd7ddee9b30fab85047a71a31483b5c649b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/25/2022
ms.locfileid: "64472795"
---
# <a name="import-export-and-deploy-exploit-protection-configurations"></a>エクスプロイト保護構成のインポート、エクスポート、展開

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


**適用対象:**
- [Microsoft Defender for Endpoint Plan 1](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft Defender for Endpoint Plan 2](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Defender for Endpoint を試す場合は、 [無料試用版にサインアップしてください。](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-exposedapis-abovefoldlink)

エクスプロイト保護は、悪用を使用して拡散および感染するマルウェアからデバイスを保護するのに役立ちます。 オペレーティング システム レベルまたは個々のアプリ レベルで適用できる軽減策の数で構成されます。

Windows セキュリティ アプリまたは PowerShell を使用して、一連の軽減策 (構成と呼ばれます) を作成します。 その後、この構成を XML ファイルとしてエクスポートし、ネットワーク上の複数のデバイスと共有できます。 その後、すべて同じ軽減策設定のセットを持っています。

[評価パッケージ](https://demo.wd.microsoft.com/Page/EP)には、XML 構造の外観を確認するために使用できるサンプル構成ファイル (*名前ProcessMitigation.xml* (Selfhost v4) が含まれています。 サンプル ファイルには、[拡張軽減エクスペリエンス Toolkit (サポートされなくなった)](https://support.microsoft.com/help/2458544/the-enhanced-mitigation-experience-toolkit) 構成から変換された設定も含まれています。 テキスト エディター (メモ帳 など) でファイルを開くか、直接エクスプロイト保護にインポートし、Windows セキュリティ アプリの設定を確認できます。

> [!NOTE]
> demo.wd.microsoft.com の Defender for Endpoint デモ サイトは推奨されません。今後削除される予定です。

## <a name="create-and-export-a-configuration-file"></a>構成ファイルを作成してエクスポートする

構成ファイルをエクスポートする前に、正しい設定が必要です。 まず、1 つの専用デバイスでエクスプロイト保護を構成します。 軽減策の構成の詳細については、「 [エクスプロイト保護をカスタマイズ](customize-exploit-protection.md) する」を参照してください。

目的の状態 (システム レベルとアプリ レベルの軽減策の両方を含む) に対するエクスプロイト保護を構成したら、Windows セキュリティ アプリまたは PowerShell を使用してファイルをエクスポートできます。

### <a name="use-the-windows-security-app-to-export-a-configuration-file"></a>Windows セキュリティ アプリを使用して構成ファイルをエクスポートする

1. タスク バーのシールド アイコンを選択して、Windows セキュリティ アプリを開きます。 または、スタート メニューで **Windows セキュリティ** を検索します。

2. **[アプリ & ブラウザー コントロール**] タイル (または左側のメニュー バーのアプリ アイコン) を選択し、[**Exploit protection settings] (エクスプロイト保護の設定**) を選択します。

   :::image type="content" source="../../media/wdsc-exp-prot.png" alt-text="Windows セキュリティ アプリの [Exploit Protection の設定] オプション" lightbox="../../media/wdsc-exp-prot.png":::

3. [ **Exploit Protection** ] セクションの下部にある [ **設定のエクスポート**] を選択します。 構成を保存する XML ファイルの場所と名前を選択します。

    > [!IMPORTANT]
    > 既定の構成を使用する場合は、"既定値を使用する (オン) " ではなく "既定でオン" の設定を使用して、XML ファイルに正しくエクスポートされた設定を取得します。

      :::image type="content" source="../../media/wdsc-exp-prot-export.png" alt-text="[設定エクスポート] オプション" lightbox="../../media/wdsc-exp-prot-export.png":::

    > [!NOTE]
    > 設定をエクスポートすると、アプリ レベルとシステム レベルの両方の軽減策のすべての設定が保存されます。 つまり、[ **システム設定]** セクションと [ **プログラム設定** ] セクションの両方からファイルをエクスポートする必要はありません (どちらのセクションでもすべての設定がエクスポートされます)。

### <a name="use-powershell-to-export-a-configuration-file"></a>PowerShell を使用して構成ファイルをエクスポートする

1. スタート メニューに **「powershell**」と入力し、**Windows PowerShell** 右クリックして [**管理者として実行**] を選択します。
2. 次のコマンドレットを入力します。

    ```PowerShell
    Get-ProcessMitigation -RegistryConfigFilePath filename.xml
    ```

    任意の名前または場所に変更 `filename` します。

    コマンドの例:

    ```powershell
    Get-ProcessMitigation -RegistryConfigFilePath C:\ExploitConfigfile.xml
    ```

> [!IMPORTANT]
> グループ ポリシーを使用して構成を展開する場合、構成を使用するすべてのデバイスが構成ファイルにアクセスできる必要があります。 ファイルを共有の場所に配置してください。

## <a name="import-a-configuration-file"></a>構成ファイルをインポートする

以前に作成したエクスプロイト保護構成ファイルをインポートできます。 PowerShell のみを使用して構成ファイルをインポートできます。

インポート後、設定は即座に適用され、Windows セキュリティ アプリで確認できます。

### <a name="use-powershell-to-import-a-configuration-file"></a>PowerShell を使用して構成ファイルをインポートする

1. スタート メニューに **「powershell**」と入力し、**Windows PowerShell** 右クリックして [**管理者として実行**] を選択します。
2. 次のコマンドレットを入力します。

    ```PowerShell
    Set-ProcessMitigation -PolicyFilePath filename.xml
    ```

    エクスプロイト保護 XML ファイルの場所と名前に変更 `filename` します。

    コマンドの例:

    ```powershell
    Set-ProcessMitigation -PolicyFilePath C:\ExploitConfigfile.xml
    ```

> [!IMPORTANT]
> エクスプロイト保護用に特別に作成された構成ファイルを必ずインポートしてください。

## <a name="manage-or-deploy-a-configuration"></a>構成を管理またはデプロイする

グループ ポリシーを使用して、作成した構成をネットワーク内の複数のデバイスに展開できます。

> [!IMPORTANT]
> グループ ポリシーを使用して構成を展開する場合、構成を使用するすべてのデバイスが構成 XML ファイルにアクセスできる必要があります。 ファイルを共有の場所に配置してください。

### <a name="use-group-policy-to-distribute-the-configuration"></a>グループ ポリシーを使用して構成を配布する

1. グループ ポリシー管理デバイスで、[グループ ポリシー管理コンソール](/previous-versions/windows/desktop/gpmc/group-policy-management-console-portal)を開き、構成および編集するグループ ポリシー オブジェクトを右クリック **します**。

2. **[グループ ポリシー管理エディター]** で、**[コンピューターの構成]** に移動し、**[管理用テンプレート]** を選択します。

3. ツリーを展開して、**Exploit Guard** \> **Exploit 保護** Windows Defender **コンポーネント**\>をWindowsします。

    :::image type="content" source="../../media/exp-prot-gp.png" alt-text="エクスプロイト保護のグループ ポリシー設定" lightbox="../../media/exp-prot-gp.png":::

4. **[一般的なエクスプロイト保護設定のセットを使用** する] をダブルクリックし、オプションを **[有効]** に設定します。

5. **[オプション:]** セクションで、次の例のように、使用する Exploit Protection 構成ファイルの場所とファイル名を入力します。

    - `C:\MitigationSettings\Config.XML`
    - `\\Server\Share\Config.xml`
    - `https://localhost:8080/Config.xml`
    - `C:\ExploitConfigfile.xml`

6. [ **OK] を** 選択し、 [通常どおりに更新された GPO を展開](/windows/win32/srvnodes/group-policy)します。

## <a name="see-also"></a>関連項目

- [エクスプロイトからデバイスを保護する](exploit-protection.md)
- [エクスプロイト保護を評価する](evaluate-exploit-protection.md)
- [エクスプロイト保護を有効にする](enable-exploit-protection.md)
- [Exploit Protection 軽減策の構成と監査](customize-exploit-protection.md)
