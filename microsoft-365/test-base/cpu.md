---
title: CPU 回帰分析
description: CPU 消費量の回帰結果とメトリックについて
search.appverid: MET150
author: mansipatel-usl
ms.author: mapatel
manager: rshastri
audience: Software-Vendor
ms.topic: how-to
ms.date: 07/06/2021
ms.service: virtual-desktop
ms.localizationpriority: medium
ms.collection: TestBase-M365
ms.custom: ''
ms.reviewer: mapatel
f1.keywords: NOCSH
ms.openlocfilehash: 935781e929c159918f8a0aec3b4a551ab974480f
ms.sourcegitcommit: d4b867e37bf741528ded7fb289e4f6847228d2c5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/06/2021
ms.locfileid: "60180617"
---
# <a name="intelligent-cpu-regression-analysis"></a>インテリジェント CPU 回帰分析

CPU 使用率は、アプリケーションがオペレーティング システムの更新の影響を受けるかどうかを示すことができます。 

Microsoft 365用のテスト ベースを使用すると、ソフトウェア開発者は、今後のオペレーティング システム (OS) 更新プログラムのさまざまなバージョンでアプリケーションを実行しているときに発生する CPU パフォーマンス低下に関する分析情報Windows提供します。 

これらの CPU 回帰により、開発者は OS 更新プログラムを広範に展開する前にアプリケーションの問題 (および潜在的な障害) を検出して解決できるため、エンド ユーザーの悪いエクスペリエンスを防ぐことができます。


### <a name="how-cpu-regression-analysis-works"></a>CPU 回帰分析のしくみ ###

Test Base ユーザーは、アプリケーションのバイナリ (1 つの.zip ファイル内) を関連するテスト スクリプトと共にアップロードし、Azure の Test Base ポータルでアプリケーションをテストするWindows OS バージョンを選択できます。 

その後、Test Base サービスはテスト スクリプトを実行し、 **CPU 回帰分析** を実行します。 

このサービスは、ターゲット OS のプレリリース バージョンの更新プログラムのアプリケーションの CPU 使用率が、リリースされたバージョンの OS の CPU 使用率と一致しているかどうかを確認します。 

2 つのバージョンの OS で実行されているプロセスは、OS のバージョンが異なるため完全に一致する可能性があるため、CPU 使用率は 100% の同様の比較ではありません。ただし、Test Base によって実行される分析では、アプリケーションの CPU 使用率が今後の OS 更新プログラムの影響を受けるかどうか、特に前のテスト実行からどのプロセスが回帰したかを示すことができます。

次のスナップショットには、同じアプリケーションに対して CPU 使用率が比較される 2 つの OS リリースがあります。 
-   [CPU 使用率] タブには、90 パーセンタイルと 10 パーセンタイルの両方のリリースの使用率の上限と下限がそれぞれ表示されます。 
-   グラフには、CPU 使用率の時系列と平均使用率が表示されます。 

お客様は、この機能を使用して、アプリケーションの CPU 使用率が OS の更新の影響を受けるかどうか、特に前の実行からどのプロセスが回帰したかを判断できるようになりました。


![CPU 回帰分析。](Media/cpu-regression-analysis.jpg)

### <a name="relevant-process-identification"></a>関連するプロセス識別 ###

ここでは、アプリケーション内の回帰プロセスを識別する方法について説明します。 

パフォーマンス回帰を分析するには、テスト実行中に仮想マシンで実行されているすべてのプロセスについて、さまざまな種類のパフォーマンス カウンターを追跡する必要があります。 

このような分析では、特定のアプリケーションの多くのプロセスに対する多くの変数がキャプチャされます。 すべてのプロセスが実行またはアプリケーションに関連付けられているわけではありません。 この課題を回避するために、確率と情報理論を使用した相互情報ランク付けアルゴリズムを適用して、特定のアプリケーションに最も関連するプロセスを特定します。 

アプリケーションは 1 種類の不連続ランダム変数と見なすことができますが、プロセスは別の種類の不連続ランダム変数と見なされます。 2 つのランダム変数の関連付けは、関連性の条件付き確率を使用して測定されます。 

その後、各アプリケーションの関連性の順にプロセスが表示されます。 また、CPU 回帰分析に関連するプロセスと共に、既定で監視できるプロセスのサブセットをお気に入りにすることができます。 回帰が検出されたら、Windows パフォーマンス アナライザー ツールキットをダウンロードし、CPU パフォーマンスの低下の理由を分析できます。 

Windows パフォーマンス アナライザーは、入力としてイベント トレース ログ (ETL) を受け取り、これらの .etl ファイルはポータルでのテスト実行にダウンロード可能なログ ファイルで使用できます。 CPU パフォーマンスのデバッグの詳細については、Windows パフォーマンス アナライザーのドキュメントを参照してください。

