---
title: テスト ベースでの機能テスト
description: 既存の自動機能テストでアプリケーションをテストする方法の詳細
search.appverid: MET150
author: mansipatel-usl
ms.author: mapatel
manager: rshastri
audience: Software-Vendor
ms.topic: how-to
ms.date: 07/06/2021
ms.service: virtual-desktop
localization_priority: Normal
ms.collection: TestBase-M365
ms.custom: ''
ms.reviewer: mapatel
f1.keywords: NOCSH
ms.openlocfilehash: cfa07a795e99144e168b06b99e9f1feacd7fa9be
ms.sourcegitcommit: c2d752718aedf958db6b403cc12b972ed1215c00
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/26/2021
ms.locfileid: "58572769"
---
# <a name="functional-testing"></a>機能テスト

ソフトウェア ベンダーとして、M365 ポータルのセルフサービス テスト ベースを使用して、選択したテスト フレームワークを使用してカスタム機能テストを実行できます。 

最初にサービスを開始した際、標準のスクリプトによって駆動される事前に定義されたテストのセットであるアウトオブボックス テストを提供しました。 ただし、これは多くの独立したソフトウェア ベンダー (ISV) の完全なテスト範囲を達成する必要がありました。 

したがって、フィードバックに応じて、自動機能テストをアップロードする機能を ISV に提供しています。

この機能を使用するには、以下の手順に従います。

1. アップロード (バイナリ、依存関係、スクリプト) を単一のパッケージとして.zipします。
2. さまざまな実行ポイントでテスト仮想マシン (VM) を再起動する場合に選択します。
3. スクリプトで使用可能なオプションを管理します。
4. 実行中に VM に更新プログラムWindows適用する時間を選択します。

上記の手順の詳細な説明を以下に示します。

**アップロードテスト パッケージの作成**

開始するには、アップロード ページに移動し、Azure の M365 ポータルのテスト ベースの左側のナビゲーション メニューにある [アプリケーション カタログ] の下の [アップロード 新しいアプリケーション] を選択します。 そこから：

タブ 1 - 基本情報を入力します。 アプリケーションの名前とバージョンを指定します。 [テストの種類] オプションで、[ ] を選択します ```Functional tests``` 。 

*既定では、アウトオブボックス (OOB) オプションが必要です。*


![[機能テスト] タブを選択します。](Media/functional_testing_tab1.png)

タブ 2 - アップロードテスト全体 (バイナリ、依存関係、スクリプトなど) を使用して zip ファイルをアップロードして、パッケージのコンポーネントを管理します。 

詳細については aka.ms/usl-package-outline を参照してください。 (注: アウトオブボックス テスト スクリプトと機能テストコンテンツの両方を同じ zip ファイルに配置する必要があります)。 現在、ファイル サイズは 2 GB に制限されています。

タブ 3 - アウトオブボックスおよび機能テスト タスクを構成します。 ここでは、アプリケーションをインストール、起動、閉じる、アンインストールする PowerShell スクリプトのパス (Out-of-Box 用) と、機能テストを実行するためのすべてのカスタム スクリプトへのパスを選択します。 **(注: アプリケーションをアンインストールするスクリプトはオプションです)。**

現在、機能テスト用に 1 ~ 8 つのスクリプトをアップロードできます。 (より多くのスクリプトが必要な場合は、この投稿にコメントしてください!

![アップロードテストを使用して最大 8 つのスクリプトを作成できます。](Media/functional_testing_tab3.png)

(省略可能)インストール後に再起動を構成します。 一部のアプリケーションでは、インストール後に再起動が必要です。 

スクリプトの実行後に再起動を実行する場合は、[タスク] タブの特定のスクリプト ```Reboot After Execution``` を選択します。

タブ 4 - 更新プログラムWindowsインストールする場合を選択します。Windows更新プログラムのアプリケーションは、任意のスクリプトの前に実行されます。 アプリケーションのインストール後に更新プログラムWindowsインストールして、実際のアプリケーションの使用シナリオを密接に模倣するようにお勧めします。

![特定Windows後に更新プログラムをインストールできます。](Media/functional_testing_tab4.png)

タブ 5 - パッケージを確認して作成します。 上記の手順を完了したら、アップロード プロセスを完了 ```Create``` します。

パッケージが作成されると、パッケージの検証状態を確認できます。

最初のテストを実行して、アプリケーションのインストール、起動、終了、アンインストールを行います。 これにより、パッケージがエラーフリーでサービスにインストール可能な状態を確認できます。

検証プロセスには最大 24 時間かかる場合があります。 検証が完了すると、メニューの状態が表示されます ```Manage packages``` 。これは、次の 2 つのエントリの 1 つになります。

1. 検証が成功: パッケージは、選択した OS ビルドの更新プログラムWindowsリリース前に自動的にテストされます。
または
2. 検証に失敗しました: 失敗の理由を調査し、問題を解決し、パッケージを再アップロードする必要があります。

また、Azure ポータルの通知アイコンを使用して、いずれかの結果が通知されます。
