---
title: データ処理中のエラー修復
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: ''
audience: Admin
ms.topic: article
ms.service: O365-seccomp
ms.localizationpriority: medium
ms.collection: M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.assetid: ''
description: エラー修復を使用して、コンテンツの適切な処理を妨げる可能性がある電子情報開示 (プレミアム) のデータの問題を修正する方法について説明します。
ms.custom: seo-marvel-mar2020
ms.openlocfilehash: d1331e595f661e1e69f114058579ab9163074b41
ms.sourcegitcommit: 52eea2b65c0598ba4a1b930c58b42dbe62cdaadc
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/19/2022
ms.locfileid: "64932180"
---
# <a name="error-remediation-when-processing-data"></a>データ処理中のエラー修復

エラー修復により、電子情報開示管理者は、Microsoft Purview 電子情報開示 (プレミアム) がコンテンツを適切に処理できないデータの問題を修正できます。 たとえば、パスワードで保護されたファイルは、ファイルがロックまたは暗号化されているため、処理できません。 電子情報開示管理者は、エラー修復を使用して、このようなエラーが発生したファイルをダウンロードし、パスワード保護を削除してから、修復されたファイルをアップロードできます。

電子情報開示 (プレミアム) のケースでエラーが発生したファイルを修復するには、次のワークフローを使用します。

## <a name="create-an-error-remediation-session-to-remediate-files-with-processing-errors"></a>エラー修復セッションを作成して、処理エラーのあるファイルを修復する

> [!NOTE]
> 次の手順でエラー修復ウィザードがいつでも閉じられる場合は、[**表示**] ドロップダウン メニューの [修復] を選択して、[**処理**] タブからエラー **修復** セッションに戻ることができます。

1. 電子情報開示 (プレミアム) ケースの [**処理**] タブで、[**表示**] ドロップダウン メニューで **[エラー**] を選択し、[**スコープ**] ドロップダウン メニューでレビュー セットまたはケース全体を選択します。 このセクションには、特定のレビューセットのケースやエラーのすべてのエラーが表示されます。

   ![エラー修復。](../media/8c2faf1a-834b-44fc-b418-6a18aed8b81a.png)

2. 修復するエラーを選択するには、エラーの種類またはファイルの種類の横にあるラジオ ボタンをクリックします。  次の例では、パスワードで保護されたファイルを修復します。

3. [ **新しいエラー修復]** をクリックします。

    エラー修復ワークフローは、エラーのあるファイルを Microsoft 提供のAzure Storageの場所にコピーして、修復するためにローカル コンピューターにダウンロードできるようにする準備段階から開始します。

    ![エラー修復の準備。](../media/390572ec-7012-47c4-a6b6-4cbb5649e8a8.png)

4. 準備が完了したら、[ **次へ: ファイルのダウンロード]** をクリックしてダウンロードを続行します。

    ![ファイルをダウンロードします。](../media/6ac04b09-8e13-414a-9e24-7c75ba586363.png)

5. ファイルをダウンロードするには、 **ダウンロードの保存先パス** を指定します。 これは、ファイルをダウンロードするローカルコンピューター上の親フォルダーへのパスです。  既定のパス %USERPROFILE%\Downloads\errors は、ログインしているユーザーのダウンロード フォルダーを指します。 必要に応じて、このパスを変更できます。 変更する場合は、最適なパフォーマンスを得るには、ローカル ファイル パスを使用することをお勧めします。 リモート ネットワーク パスを使用しないでください。 たとえば、パス **C:\修復** を使用できます。

   親フォルダーへのパスが AzCopy コマンドに自動的に追加されます ( **/Dest** パラメーターの値として)。

6. 定義済みコマンドをコピーするには **[クリップボードにコピー**] をクリックします。 Windows コマンド プロンプトを開き、AzCopy コマンドを貼り付けてから Enter キーを押 **します**。

    ![エラー修復の準備をします。](../media/f364ab4d-31c5-4375-b69f-650f694a2f69.png)

    > [!NOTE]
    > AzCopy v8.1 を使用して、[ **ファイルのダウンロード** ] ページで提供されているコマンドを正常に使用する必要があります。 手順 10 でファイルをアップロードするには、AzCopy v8.1 を使用する必要もあります。 このバージョンの AzCopy をインストールするには、[Windowsの AzCopy v8.1 でデータを転送する方法に関するページを参照](/previous-versions/azure/storage/storage-use-azcopy)してください。 指定された AzCopy コマンドが失敗した場合は、「[電子情報開示での AzCopy のトラブルシューティング (プレミアム)](troubleshooting-azcopy.md)」を参照してください。

    手順5で指定した場所に、選択したファイルがダウンロードされます。 親フォルダー(例: **C:\Remediation**) に、次のサブフォルダー構造が自動的に作成されます。

    `<Parent folder>\Subfolder 1\Subfolder 2\<file>`

    - *サブフォルダー 1* には、手順1で選択した範囲に応じて、ケースまたはレビューセットの ID の名前が付けられます。

    - *サブフォルダー 2* には、ダウンロードしたファイルのファイル ID が付いています。

    - ダウンロードしたファイルは *サブフォルダー 2* に保存され、ファイル ID で呼ばれます。

    アイテムが **C:\修復** 親フォルダーにダウンロードされたときに作成されるフォルダー パスとエラー ファイル名の例を次に示します。

    `C:\Remediation\232f8b7e-089c-4781-88c6-210da0615d32\d1459499146268a096ea20202cd029857d64087706e6d6ca2a224970ae3b8938\d1459499146268a096ea20202cd029857d64087706e6d6ca2a224970ae3b8938.docx`

    複数のファイルがダウンロードされている場合、それぞれがファイル ID で名前が付けられたサブフォルダーにダウンロードされます。

    > [!IMPORTANT]
    > 手順 9 と手順 10 でファイルをアップロードする場合、修復されたファイルは同じファイル名を持ち、同じサブフォルダー構造にある必要があります。 サブフォルダーとファイル名は、修復されたファイルを元のエラー ファイルに関連付けるために使用されます。 フォルダー構造またはファイル名が変更されると、次のエラーが表示 `Cannot apply Error Remediation to the current Workingset`されます。 問題を回避するには、修復されたファイルを同じ親フォルダーとサブフォルダー構造に保持することをお勧めします。

7. ファイルをダウンロードした後は、適切なツールを使用して修復できます。 パスワードで保護されたファイルの場合、使用できるパスワード解読ツールがいくつかあります。 ファイルのパスワードがわかっている場合は、ファイルを開いてパスワード保護を削除できます。

8. 電子情報開示 (プレミアム) とエラー修復ウィザードに戻り、[**次へ: アップロード ファイル**] をクリックします。  これで、次のページに移動して、ファイルをアップロードできるようになります。

    ![アップロード ファイル。](../media/af3d8617-1bab-4ecd-8de0-22e53acba240.png)

9. **[ファイルの場所へのパス]** テキストボックス内の修復されたファイルが保存されている親フォルダーを指定します。 ここでも、親フォルダーには、ファイルをダウンロードしたときに作成されたのと同じサブフォルダー構造が必要です。

    親フォルダーへのパスが AzCopy コマンドに自動的に追加されます ( **/Source** パラメーターの値として)。

10. 定義済みコマンドをコピーするには **[クリップボードにコピー**] をクリックします。 Windows コマンド プロンプトを開き、AzCopy コマンドを貼り付けてから Enter キーを押 **します**。 ファイルをアップロードします。

    ![Azcopy で修復されたファイルを正常にアップロードした結果。](../media/ff2ff691-629f-4065-9b37-5333f937daf6.png)

11. AzCopy コマンドを実行した後、[ **次へ: ファイルの処理**] をクリックします。

    処理が完了したら、セットを確認し、修復されたファイルを表示できます。

## <a name="remediating-errors-in-container-files"></a>コンテナー ファイル内のエラーを修復する

コンテナー ファイルの内容 (.zip ファイルなど) を電子情報開示 (プレミアム) で抽出できない場合は、コンテナーをダウンロードして、元のコンテナーが存在する同じフォルダーに展開できます。 展開されたファイルは、最初に電子情報開示 (プレミアム) によって展開されたかのように親コンテナーに帰属します。 このプロセスは、1 つのファイルを置換ファイルとしてアップロードする場合を除き、上記のように動作します。  修復されたファイルをアップロードするときは、元のコンテナー ファイルを含めないでください。

## <a name="remediating-errors-by-uploading-the-extracted-text"></a>抽出されたテキストをアップロードしてエラーを修復する

電子情報開示 (プレミアム) で解釈できるネイティブ形式にファイルを修復できない場合があります。 ただし、元のファイルを(テキスト オーバーレイと呼ばれるプロセスで) ネイティブ ファイルの元のテキストを含む *テキスト* ファイルに置き換えることができます。 これを行うには、この記事で説明されている手順に従いますが、元のファイルをネイティブ形式で修復する代わりに、元のファイルから抽出されたテキストを含むテキスト ファイルを作成し、.txt サフィックスが付加された元のファイル名を使用してテキスト ファイルをアップロードします。 たとえば、ファイル名 335850cc-6602-4af0-acfa-1d14d9128ca2.abc を使用して、エラー修復中にファイルをダウンロードします。 ネイティブ アプリケーションでファイルを開き、テキストをコピーして、335850cc-6602-4af0-acfa-1d14d9128ca2.abc.txtという名前の新しいファイルに貼り付けます。 これを行う場合は、修復されたテキスト ファイルを電子情報開示 (プレミアム) にアップロードする前に、ローカル コンピューター上の修復されたファイルの場所からネイティブ形式の元のファイルを削除してください。

## <a name="what-happens-when-files-are-remediated"></a>ファイルの修復時の動作

修復されたファイルがアップロードされると、次のフィールドを除き、元のメタデータが保持されます。

- ExtractedTextSize
- HasText
- IsErrorRemediate
- LoadId
- ProcessingErrorMessage
- ProcessingStatus
- テキスト
- WordCount
- WorkingsetId

電子情報開示 (プレミアム) のすべてのメタデータ フィールドの定義については、「[ドキュメント メタデータ フィールド](document-metadata-fields-in-advanced-ediscovery.md)」を参照してください。