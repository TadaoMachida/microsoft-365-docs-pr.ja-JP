---
title: SharePoint Online クラシック発行サイトのイメージの最適化
ms.author: kvice
author: kelleyvice-msft
manager: scotv
ms.date: 9/18/2019
audience: Admin
ms.topic: troubleshooting
ms.service: o365-administration
ms.localizationpriority: medium
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- SPO160
- MET150
ms.assetid: c7edb02a-fdab-4f91-9a20-cba01dad28ef
description: レンディションとスプライトを使用して、SharePoint Online クラシック発行サイトのイメージ パフォーマンスを向上させる方法について説明します。
ms.openlocfilehash: 39d0e4c26339ecf70c922636f82dcef82dd4b13e
ms.sourcegitcommit: 6a981ca15bac84adbbed67341c89235029aad476
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/27/2022
ms.locfileid: "65754424"
---
# <a name="image-optimization-for-sharepoint-online-classic-publishing-sites"></a>SharePoint Online クラシック発行サイトのイメージの最適化

Web ページの読み込み速度は、画像、HTML、JavaScript、CSS を含むページのレンダリングに必要なすべてのコンポーネントの合計サイズによって異なります。 イメージは、サイトの魅力的な機能を高める優れた方法ですが、そのサイズはパフォーマンスに影響を与える可能性があります。 圧縮とサイズ変更を使用してイメージを最適化し、スプライトを使用することで、大きな画像の効果をオフセットできます。 SharePointイメージの表示を使用すると、1 つの大きなイメージをアップロードし、イメージのセクションを表示して、再読み込みではなく再利用できます。

>[!NOTE]
>このトピックは、最新のポータル サイトではなく、SharePoint Online クラシック発行サイトに適用されます。 SharePoint Online モダン ポータル サイトでの画像の最適化の詳細については、「[SharePoint Online モダン ポータル ページで画像を最適化](modern-image-optimization.md)する」を参照してください。
  
## <a name="using-sprites-to-speed-up-image-loading"></a>スプライトを使用して画像の読み込みを高速化する

![spcommon のスクリーンショット。](../media/cc5cdee1-8e54-4537-9a8a-8854f4ee849f.png)

イメージ スプライトには、より小さいイメージが多数含まれています。 CSS を使用して、複合イメージの一部を選択して、絶対配置でページの特定の部分に表示します。 基本的には、複数の画像を読み込むのではなく、ページの周りに 1 つの画像を移動し、スプライトイメージの必要な部分がエンド ユーザーに表示される小さなウィンドウからその画像の小さな部分を表示します。 SharePoint Online では、スプライトを使用してスプライト spcommon.png ファイルにさまざまなアイコンが表示されます。

ここで取り上げる内容:
- イメージの圧縮
- イメージの最適化
- SharePointイメージの表示
   
これは、複数のイメージではなく 1 つのイメージのみをダウンロードし、そのイメージをキャッシュして再利用するため、パフォーマンスを向上させることができます。 イメージがキャッシュされたままでない場合でも、複数のイメージではなく 1 つのイメージを持つことで、このメソッドはサーバーへの HTTP 要求の合計数を減らし、ページの読み込み時間を短縮します。 これは実際にはイメージバンドルの形式です。 これは、画像が頻繁に変更されない場合に便利な手法です 。たとえば、アイコンは、上記の例に示すようにSharePointします。 サードパーティのオープンソースのコミュニティ ベースのプロジェクトである [Web Essentials](https://vswebessentials.com/) を使用して、これを簡単にMicrosoft Visual Studioで実現する方法を確認できます。 詳細については、「[SharePoint Online での縮小とバンドル](./minification-and-bundling-in-sharepoint-online.md)」を参照してください。
  
## <a name="using-image-compression-and-optimization-to-speed-up-page-loading"></a>イメージの圧縮と最適化を使用してページの読み込みを高速化する

イメージの圧縮と最適化は、サイトで使用するイメージのファイル サイズを小さくすることです。 多くの場合、画像のサイズを小さくする最善の方法は、サイトで表示される最大サイズに画像のサイズを変更することです。 画像が表示されるよりも大きい場合は意味がありません。 画像エディターを使用して画像が正しい寸法であることを確認することは、ページのサイズを小さくする簡単な方法です。
  
イメージが適切なサイズになったら、次の手順では、これらのイメージの圧縮を最適化します。 Photo Gallery やサード パーティのツールなど、圧縮と最適化に使用できるさまざまなツールがあります。 圧縮の鍵は、エンド ユーザーの識別可能な品質を失うことなく、ファイル サイズを可能な限り小さくすることです。 圧縮ファイルを高解像度ディスプレイでテストして、引き続き適切に見えるようにしてください。
  
## <a name="speed-up-page-downloads-by-using-sharepoint-image-renditions"></a>SharePointイメージの表示を使用してページのダウンロードを高速化する

イメージの表示は、SharePoint Online の機能であり、定義済みの画像サイズに基づいてさまざまなバージョンの画像を提供できます。 これは、ユーザーが生成した画像コンテンツがある場合や、サイト上の CSS によって幅や高さなどの画像の寸法が固定されている場合に特に重要です。 画像が CSS によって固定されている場合でも、完全解像度の画像は読み込まれます。 この場合、イメージの表示を使用してファイル サイズを小さくできます。
  
> [!NOTE]
> レンディションは、発行が有効になっている場合、SharePointでのみ使用できます。 [設定 \> サイト\>設定サーバー発行SharePointサイト機能\>の管理] で発行を有効にすることができます。 それ以外の場合、このオプションは表示されません。
  
イメージの表示サイズ変更は、定義した最小のディメンション (幅または高さ) を取得し、ロックされた縦横比に基づいて他のディメンションのサイズが自動的に変更されるようにイメージのサイズを変更することで機能します。 既定では、画像は残りの寸法で中央からトリミングされます。 たとえば、幅 100 ピクセル、高さ 50px の表示を定義し、元のイメージの幅が 1000px、高さが 800px の場合、サイズが変更され、800px ディメンションが 50px になり、1000px ディメンション (現在は 62.5px) が画像の中央からトリミングされます。
  
手順は比較的簡単ですが、イメージでレンディションを使用するには、イメージを追加する前に、表示がSharePoint サイトにある必要があります。 さらに、SharePoint サーバー発行インフラストラクチャ (サイト コレクション レベル) と SharePoint サーバー発行 (サイト レベル) 機能もオンにする必要があります。
  
### <a name="add-an-image-rendition-to-speed-up-page-loading"></a>イメージの表示を追加してページの読み込みを高速化する
  
1. この手順を実行しているユーザー アカウントに、少なくともサイト コレクションの最上位サイトに対するデザインアクセス許可があり、サイトが Web ページに公開されていることを確認します。

2. Web ブラウザーで、発行サイト コレクションの最上位サイトに移動します。

3. [ **設定**] アイコンを選択します。

4. [**サイト 設定**] ページの [**外観**] セクションに、組み込みのイメージの表示が表示されます。

    既定の表示を使用するか、[ **Image Renditions** ] を選択して新しいレンディションを作成できます。

    ![Image Rendition のスクリーンショット。](../media/eaae0d53-657d-47ef-b687-65c5167eae4d.PNG)
  
5. **[イメージ表示]** ページで **[新しいアイテムの追加]** を選択します。

    ![[新しい項目の追加] のスクリーンショット。](../media/8cede22e-52bf-4d9d-99cb-162f2f6ce92b.PNG)
  
6. [ **新しいイメージ表示**] ページの [ **名前**] ボックスに、表示の名前を入力します。

7. [ **幅**] ボックスおよび [ **高さ**] ボックスに、ピクセル単位で表示の幅と高さを入力して、[ **保存**] を選択します。

    ![Image Rendition Name のスクリーンショット。](../media/5a6119ed-c163-40df-a4db-ec629d15607d.PNG)
  
## <a name="custom-cropping-with-image-renditions"></a>イメージの表示を使用したカスタム トリミング

既定では、イメージ表示はイメージの中央から生成されます。 イメージの使用する部分をトリミングすることにより、個別のイメージのイメージ表示を調整できます。 画像は、表示ごとに個別にトリミングできます。 イメージをトリミングすると、SharePointの BLOB キャッシュを使用して、表示ごとにイメージのバージョンを作成することで、ページの読み込みが高速化されます。 これにより、イメージのサイズが 1 回だけ変更され、エンド ユーザーに複数回配信する準備が整うため、サーバーの負荷が軽減されます。 画像の表示をトリミングする方法の詳細については、「画像の表示 [をトリミングする](/sharepoint/dev/general-development/sharepoint-design-manager-device-channels)」を参照してください。
